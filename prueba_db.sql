-- H2 2.2.224;
SET DB_CLOSE_DELAY -1;        
;             
CREATE USER IF NOT EXISTS "ADMIN" SALT '3611d619271b8d4e' HASH 'e255280222bcb00c1e4c17ffcbc4ddb9fda3f470acf9fd08abc292b3f567da05' ADMIN;      
CREATE MEMORY TABLE "PUBLIC"."PHONE"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CITYCODE" CHARACTER VARYING(255),
    "COUNTRYCODE" CHARACTER VARYING(255),
    "NUMBER" CHARACTER VARYING(255)
);   
ALTER TABLE "PUBLIC"."PHONE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");        
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PHONE;   
CREATE MEMORY TABLE "PUBLIC"."USUARIO"(
    "ID" UUID NOT NULL,
    "CREATED" TIMESTAMP(6),
    "EMAIL" CHARACTER VARYING(255),
    "IS_ACTIVE" BOOLEAN NOT NULL,
    "LAST_LOGIN" TIMESTAMP(6),
    "MODIFIED" TIMESTAMP(6),
    "NAME" CHARACTER VARYING(255),
    "PASSWORD" CHARACTER VARYING(255) NOT NULL,
    "TOKEN" CHARACTER VARYING(255)
);              
ALTER TABLE "PUBLIC"."USUARIO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ID");      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.USUARIO; 
CREATE MEMORY TABLE "PUBLIC"."USUARIO_PHONES"(
    "USUARIO_ID" UUID NOT NULL,
    "PHONES_ID" BIGINT NOT NULL
);          
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.USUARIO_PHONES;          
ALTER TABLE "PUBLIC"."USUARIO_PHONES" ADD CONSTRAINT "PUBLIC"."UK5BQC1344TAX0V7W58423TMXXQ" UNIQUE("PHONES_ID");              
ALTER TABLE "PUBLIC"."USUARIO_PHONES" ADD CONSTRAINT "PUBLIC"."FK9IK11PUR6S258FGUR951UISWK" FOREIGN KEY("PHONES_ID") REFERENCES "PUBLIC"."PHONE"("ID") NOCHECK;               
ALTER TABLE "PUBLIC"."USUARIO_PHONES" ADD CONSTRAINT "PUBLIC"."FKP1C8DTI15OU6BKMM9I6K6GE42" FOREIGN KEY("USUARIO_ID") REFERENCES "PUBLIC"."USUARIO"("ID") NOCHECK;            
